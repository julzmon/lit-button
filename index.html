<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lit Button Demo</title>
    <script type="module" src="/src/kds-button.component.ts"></script>
    <script type="module" src="/src/kds-progress-circle.component.ts"></script>
    <script type="module" src="/src/kds-text-input.component.ts"></script>
    <script type="module" src="/src/kds-input-group.component.ts"></script>
    <script type="module" src="/src/kds-button-group.component.ts"></script>
    <script type="module" src="/src/kds-checkbox.component.ts"></script>
    <script type="module" src="/src/kds-radio.component.ts"></script>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        padding: 2rem;
        max-width: 1024px;
        margin: 0 auto;
        background-color: var(--kds-bg-surface-base);
        color: var(--kds-fg-base);
      }
      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        padding: 0.4rem 0.75rem;
        border-radius: var(--kds-border-radius-pill, 999px);
        border: 1px solid var(--kds-border-neutral-muted-base, #ccc);
        background: var(--kds-bg-surface-overlay, #fff);
        color: inherit;
        font-size: 0.875rem;
        cursor: pointer;
        box-shadow: 0 2px 8px color(srgb 0 0 0 / 0.06);
        transition: background 0.2s ease;
      }
      .theme-toggle:hover {
        background: var(--kds-bg-surface-level-1, #f5f5f5);
      }
      .demo-section {
        margin-bottom: 2rem;
      }
      .button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
        justify-items: start;
      }

      .progress-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
        margin-top: 1rem;
      }

      .progress-grid > div {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }

      .checkbox-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-top: 1rem;
      }

      .checkbox-row {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
      }
    </style>
    <link rel="stylesheet" href="./tokens.css">
  </head>
  <body data-mode="light">
    <button class="theme-toggle" type="button" aria-label="Switch to dark mode" aria-pressed="false">
      üåô
    </button>
    <h1 id="lit-button-component-demo">Lit Button Component Demo</h1>

    <div class="demo-section">
      <h2 id="default">Default</h2>
      <div class="button-grid">
        <kds-button>Default Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="priorities">Priorities</h2>
      <div class="button-grid">
        <kds-button priority="primary">Primary Button</kds-button>
        <kds-button priority="secondary">Secondary Button</kds-button>
        <kds-button priority="tertiary">Tertiary Button</kds-button>
        <kds-button priority="link">Link Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="colors-variants">Colors & Variants</h2>
      <div class="button-grid">
        <kds-button color="neutral" variant="solid">Solid Button</kds-button>
        <kds-button color="neutral" variant="outline">Outline Button</kds-button>
        <kds-button color="neutral" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="negative" variant="solid">Solid Button</kds-button>
        <kds-button color="negative" variant="outline">Outline Button</kds-button>
        <kds-button color="negative" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="positive" variant="solid">Solid Button</kds-button>
        <kds-button color="positive" variant="outline">Outline Button</kds-button>
        <kds-button color="positive" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="info" variant="solid">Solid Button</kds-button>
        <kds-button color="info" variant="outline">Outline Button</kds-button>
        <kds-button color="info" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="warning" variant="solid">Solid Button</kds-button>
        <kds-button color="warning" variant="outline">Outline Button</kds-button>
        <kds-button color="warning" variant="transparent">Transparent Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="sizes">Sizes</h2>
      <div class="button-grid">
        <kds-button size="xs">Extra Small Button</kds-button>
        <kds-button size="sm">Small Button</kds-button>
        <kds-button size="md">Medium Button</kds-button>
        <kds-button size="lg">Large Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="states">States</h2>
      <div class="button-grid">
        <kds-button disabled="disabled">Disabled Button</kds-button>
        <kds-button id="focus-button">Focus Button</kds-button>
        <kds-button type="submit">Submit Button</kds-button>
        <kds-button type="reset">Reset Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="pending">Pending</h2>
      <div class="button-grid">
        <kds-button pending>Loading Button</kds-button>
        <kds-button pending pending-label="Saving" priority="primary">Save changes</kds-button>
        <kds-button pending pending-label="Uploading" priority="secondary">
          <span slot="start">‚¨ÜÔ∏è</span>
          Upload file
        </kds-button>
        <kds-button pending href="#" pending-label="Loading link">Pending anchor</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="dynamic-label-changes">Dynamic Label Changes (Testing Slot Change Tracking)</h2>
      <p style="font-size: 0.9em; color: var(--kds-fg-muted, #666);">
        This section demonstrates that the button's aria-label updates when the label text changes dynamically.
        Open the browser console to see the aria-label values logged after each change.
      </p>
      <div class="button-grid">
        <kds-button id="dynamic-test-1" pending pending-label="Saving">Save Changes</kds-button>
        <button type="button" onclick="changeLabel1()">Change to "Submit Form"</button>
        <button type="button" onclick="resetLabel1()">Reset to "Save Changes"</button>
      </div>
      <div class="button-grid" style="margin-top: 1rem;">
        <kds-button id="dynamic-test-2" pending-label="Loading">Click Me</kds-button>
        <button type="button" onclick="togglePending2()">Toggle Pending State</button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="anchor">Anchor</h2>
      <div class="button-grid">
        <kds-button href="#">Anchor Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="slots">Slots</h2>
      <div class="button-grid">
        <kds-button>
          <span slot="start">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewbox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
            </svg>
          </span>Slots Button<span slot="end">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewbox="0 0 16 16">
              <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
            </svg>
          </span>
        </kds-button>
      </div>

      <div class="demo-section">
        <h2 id="full-width">Full width</h2>
        <div class="button-grid">
          <kds-button href="#" style="width: 100%">Full Width Button</kds-button>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="progress-circle">Progress Circle</h2>
      <div class="progress-grid">
        <div>
          <span>Default md</span>
          <kds-progress-circle></kds-progress-circle>
        </div>
        <div>
          <span>xs</span>
          <kds-progress-circle size="xs"></kds-progress-circle>
        </div>
        <div>
          <span>sm</span>
          <kds-progress-circle size="sm"></kds-progress-circle>
        </div>
        <div>
          <span>lg</span>
          <kds-progress-circle size="lg"></kds-progress-circle>
        </div>
        <div>
          <span>Progress 30%</span>
          <kds-progress-circle
            progress="30"
            label="Upload progress"
          ></kds-progress-circle>
        </div>
        <div>
          <span>Progress 100%</span>
          <kds-progress-circle
            progress="100"
            label="Sync complete"
          ></kds-progress-circle>
        </div>
        <div>
          <span>Progress xs</span>
          <kds-progress-circle size="xs" progress="40" label="XS progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress sm</span>
          <kds-progress-circle size="sm" progress="50" label="SM progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress md</span>
          <kds-progress-circle size="md" progress="60" label="MD progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress lg</span>
          <kds-progress-circle size="lg" progress="70" label="LG progress"></kds-progress-circle>
        </div>
        <div>
          <span>Could be very big, with label in center?</span>
          <kds-progress-circle size="xl" label="XL progress" style="--mod-progress-indicator-color: red;"></kds-progress-circle>
        </div>
        <div>
          <span>Could be very big, with label in center?</span>
          <kds-progress-circle size="xl" progress="85" label="XL progress" style="--mod-progress-indicator-color: red;"></kds-progress-circle>
        </div>
        <div>
          <span>Button with progress-circle</span>
          <kds-button><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
          <kds-button priority="primary"><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
          <kds-button priority="secondary"><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="input-fields">Input Fields</h2>

      <h3>Basic Inputs</h3>
      <div class="button-grid">
        <kds-text-input label="Default Input" placeholder="Enter text..."></kds-text-input>
        <kds-text-input label="With Value" value="Sample text"></kds-text-input>
        <kds-text-input label="Required Field" placeholder="Required..." required></kds-text-input>
        <kds-text-input label="Clearable Input" clearable placeholder="Type and clear..."></kds-text-input>
      </div>

      <h3>Sizes</h3>
      <div class="button-grid">
        <kds-text-input size="sm" label="Small Input" placeholder="Small..."></kds-text-input>
        <kds-text-input size="md" label="Medium Input" placeholder="Medium..."></kds-text-input>
      </div>

      <h3>States</h3>
      <div class="button-grid">
        <kds-text-input label="Normal" placeholder="Normal state"></kds-text-input>
        <kds-text-input label="Invalid" placeholder="Invalid state" invalid error-message="This field is required"></kds-text-input>
        <kds-text-input label="Disabled" placeholder="Disabled state" disabled></kds-text-input>
        <kds-text-input label="Readonly" value="Read-only text" readonly></kds-text-input>
        <kds-text-input label="Hidden Label (SR-only)" placeholder="Label is visually hidden" hide-label></kds-text-input>
      </div>

      <h3>With Help Text</h3>
      <div class="button-grid">
        <kds-text-input label="Email Address" placeholder="you@example.com" type="email">
          <span slot="help-text">We'll never share your email with anyone else.</span>
        </kds-text-input>
        <kds-text-input label="Password" placeholder="Enter password" type="password" required clearable>
          <span slot="help-text">Must be at least 8 characters long with a number and special character.</span>
        </kds-text-input>
        <kds-text-input label="Username" placeholder="Choose username" clearable>
          <span slot="help-text">This will be visible to other users.</span>
        </kds-text-input>
        <kds-text-input label="Invalid with Help" placeholder="Enter value" invalid error-message="This field is required">
          <span slot="help-text">This helper text is still visible even when there's an error.</span>
        </kds-text-input>
      </div>

      <h3>Input Types</h3>
      <div class="button-grid">
        <kds-text-input type="email" label="Email" placeholder="email@example.com"></kds-text-input>
        <kds-text-input type="password" label="Password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></kds-text-input>
        <kds-text-input type="number" label="Number" placeholder="123" min="0" max="100"></kds-text-input>
        <kds-text-input type="tel" label="Phone" placeholder="(555) 123-4567"></kds-text-input>
      </div>

  <h3>With Start/End</h3>
      <div class="button-grid">
        <kds-text-input label="With Start" placeholder="Search...">
          <span slot="start">üîç</span>
        </kds-text-input>
        <kds-text-input label="With End" placeholder="Amount">
          <span slot="end">USD</span>
        </kds-text-input>
        <kds-text-input label="With End" placeholder="Amount">
          <div style="background-color: var(--kds-bg-surface-level-2); aspect-ratio: 1 / 1; inline-size: var(--kds-icon-size-xl);" slot="start">kg</div>
          <div style="background-color: var(--kds-bg-surface-level-2);" slot="end">kg</div>
        </kds-text-input>
        <kds-text-input label="Both" placeholder="Price">
          <span slot="start">$</span>
          <span slot="end">.00</span>
        </kds-text-input>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="input-groups">Input Groups</h2>
      <p>Input groups use fieldset/legend semantics and combine inputs with buttons.</p>

      <h3>Basic: Input with Button</h3>
      <div class="button-grid">
        <kds-input-group label="Search">
          <kds-text-input placeholder="Search..." label="Search"></kds-text-input>
          <kds-button priority="secondary">üîç</kds-button>
        </kds-input-group>

        <kds-input-group label="Email Signup" size="sm">
          <kds-text-input type="email" placeholder="your@email.com" label="Email"></kds-text-input>
          <kds-button priority="primary">Subscribe</kds-button>
        </kds-input-group>
      </div>

      <h3>Button at Start</h3>
      <div class="button-grid">
        <kds-input-group label="Category Filter">
          <kds-button priority="secondary">Category ‚ñº</kds-button>
          <kds-text-input placeholder="Filter items..." label="Filter"></kds-text-input>
        </kds-input-group>

        <kds-input-group label="Currency Input" size="sm">
          <kds-button priority="secondary">USD ‚ñº</kds-button>
          <kds-text-input type="number" placeholder="0.00" label="Amount"></kds-text-input>
        </kds-input-group>
      </div>

      <h3>Both Sides</h3>
      <div class="button-grid">
        <kds-input-group label="Advanced Search">
          <kds-button priority="secondary">Options ‚ñº</kds-button>
          <kds-text-input placeholder="Search with filters..." label="Search"></kds-text-input>
          <kds-button color="neutral">Go</kds-button>
        </kds-input-group>
      </div>

      <h3>Multiple Inputs</h3>
      <div class="button-grid">
        <kds-input-group label="Date Range">
          <kds-text-input type="date" label="Start Date" placeholder="Start"></kds-text-input>
          <kds-text-input type="date" label="End Date"></kds-text-input>
        </kds-input-group>

        <kds-input-group label="Price Range">
          <kds-text-input type="number" label="Min" placeholder="Min"></kds-text-input>
          <kds-text-input type="number" label="Max" placeholder="Max"></kds-text-input>
          <kds-button color="neutral">Apply</kds-button>
        </kds-input-group>
      </div>

      <h3>With Help Text</h3>
      <div class="button-grid">
        <kds-input-group label="Newsletter" help-text="We'll send you updates about new features.">
          <kds-text-input type="email" placeholder="your@email.com" label="Email"></kds-text-input>
          <kds-button priority="primary">Sign Up</kds-button>
        </kds-input-group>
      </div>

      <h3>Invalid State</h3>
      <div class="button-grid">
        <kds-input-group label="Required Search" required invalid error-message="Please enter a search term">
          <kds-text-input placeholder="Search..." label="Search" invalid></kds-text-input>
          <kds-button priority="secondary">üîç</kds-button>
        </kds-input-group>

        <kds-input-group label="Invalid Category" invalid error-message="Please select a valid category">
          <kds-button priority="secondary">Category ‚ñº</kds-button>
          <kds-text-input placeholder="Filter..." label="Filter" invalid></kds-text-input>
        </kds-input-group>
      </div>

      <h3>Custom Slotted Content</h3>
      <div class="button-grid">
        <kds-input-group invalid>
          <kds-text-input placeholder="Enter value" label="Custom" invalid></kds-text-input>
          <span slot="legend">Custom Legend Slot</span>
          <span slot="error">This is a slotted error message.</span>
          <span slot="help-text">Helper text delivered through a slot.</span>
          <kds-button priority="secondary">Submit</kds-button>
        </kds-input-group>
      </div>

      <h3>Hidden Legend (Screen Reader Only)</h3>
      <div class="button-grid">
        <kds-input-group label="Search" hide-label>
          <kds-text-input placeholder="Search products..." label="Search"></kds-text-input>
          <kds-button priority="secondary">üîç</kds-button>
        </kds-input-group>

        <kds-input-group label="Email Newsletter" hide-label help-text="Join our mailing list">
          <kds-text-input type="email" placeholder="Enter your email" label="Email"></kds-text-input>
          <kds-button priority="primary">Subscribe</kds-button>
        </kds-input-group>
      </div>

      <h3>Button Variants</h3>
      <div class="button-grid">
        <kds-input-group label="Quick Action">
          <kds-text-input placeholder="Type something..." label="Input"></kds-text-input>
          <kds-button priority="primary">Submit</kds-button>
        </kds-input-group>

        <kds-input-group label="Dangerous Action">
          <kds-text-input placeholder="Confirm deletion..." label="Confirmation"></kds-text-input>
          <kds-button color="negative">Delete</kds-button>
        </kds-input-group>
      </div>

      <h3>Disabled State</h3>
      <div class="button-grid">
        <kds-input-group label="Disabled Group" disabled>
          <kds-text-input placeholder="Can't edit..." label="Input"></kds-text-input>
          <kds-button>Submit</kds-button>
        </kds-input-group>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="button-group">Button Group Component</h2>

      <h3>Default Spaced Buttons (Row)</h3>
      <div class="button-grid">
        <kds-button-group>
          <kds-button>First</kds-button>
          <kds-button>Second</kds-button>
          <kds-button>Third</kds-button>
        </kds-button-group>

        <kds-button-group>
          <kds-button priority="secondary">First</kds-button>
          <kds-button priority="secondary">Second</kds-button>
          <kds-button priority="secondary">Third</kds-button>
        </kds-button-group>

          <kds-button-group>
            <kds-button variant="link">First</kds-button>
            <kds-button variant="link">Second</kds-button>
            <kds-button variant="link">Third</kds-button>
          </kds-button-group>
      </div>

      <h3>Gap Variants</h3>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <div>
          <p><strong>None (Connected)</strong></p>
          <kds-button-group gap="none">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="primary">First</kds-button>
            <kds-button priority="primary">Second</kds-button>
            <kds-button priority="primary">Third</kds-button>
          </kds-button-group>
          <br>

          <kds-button-group gap="none">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="tertiary">First</kds-button>
            <kds-button priority="tertiary">Second</kds-button>
            <kds-button priority="tertiary">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button color="positive">First</kds-button>
            <kds-button color="positive">Second</kds-button>
            <kds-button color="positive">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button color="info">First</kds-button>
            <kds-button color="info">Second</kds-button>
            <kds-button color="info">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button color="warning">First</kds-button>
            <kds-button color="warning">Second</kds-button>
            <kds-button color="warning">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button color="negative">First</kds-button>
            <kds-button color="negative">Second</kds-button>
            <kds-button color="negative">Third</kds-button>
          </kds-button-group>

        </div>
        <div>
          <p><strong>Small</strong></p>
          <kds-button-group gap="sm">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="sm">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Medium (Default)</strong></p>
          <kds-button-group gap="md">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="md">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Large</strong></p>
          <kds-button-group gap="lg">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="lg">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Extra Large</strong></p>
          <kds-button-group gap="xl">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="xl">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
      </div>

      <h3>Vertical Direction</h3>
      <div class="button-grid">
        <kds-button-group direction="column" gap="sm">
          <kds-button>First</kds-button>
          <kds-button>Second</kds-button>
          <kds-button>Third</kds-button>
        </kds-button-group>

        <kds-button-group direction="column" gap="sm">
          <kds-button priority="secondary">First</kds-button>
          <kds-button priority="secondary">Second</kds-button>
          <kds-button priority="secondary">Third</kds-button>
        </kds-button-group>

        <kds-button-group direction="column" gap="none">
          <kds-button>First</kds-button>
          <kds-button>Second</kds-button>
          <kds-button>Third</kds-button>
        </kds-button-group>

        <kds-button-group direction="column" gap="none">
          <kds-button priority="secondary">First</kds-button>
          <kds-button priority="secondary">Second</kds-button>
          <kds-button priority="secondary">Third</kds-button>
        </kds-button-group>
      </div>

      <h3>Alignment (Justify)</h3>
      <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%;">
        <div>
          <p><strong>Start (Default)</strong></p>
          <kds-button-group justify="start">
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group justify="start" auto-stack>
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Center</strong></p>
          <kds-button-group justify="center" auto-stack>
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group justify="center">
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>End</strong></p>
          <kds-button-group justify="end" auto-stack>
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group justify="end" auto-stack>
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
      </div>

      <h3>Stretch & Stack</h3>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <div>
          <p><strong>Stack (30rem)</strong></p>
          <kds-button-group auto-stack>
            <kds-button priority="primary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="tertiary">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Stretch</strong></p>
          <kds-button-group stretch>
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group stretch>
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
        <div style="max-width: 400px;">
          <p><strong>Narrow Container stretch</strong></p>
          <kds-button-group stretch>
            <kds-button>First</kds-button>
            <kds-button>Second</kds-button>
            <kds-button>Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group stretch>
            <kds-button priority="secondary">First</kds-button>
            <kds-button priority="secondary">Second</kds-button>
            <kds-button priority="secondary">Third</kds-button>
          </kds-button-group>
        </div>
      </div>

      <h3>Button Variants in Group</h3>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <div>
          <p><strong>Different Priorities</strong></p>
          <kds-button-group gap="none">
            <kds-button priority="primary">Save</kds-button>
            <kds-button priority="secondary">Cancel</kds-button>
            <kds-button priority="tertiary">More</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Different Colors</strong></p>
          <kds-button-group gap="sm">
            <kds-button color="neutral">Neutral</kds-button>
            <kds-button color="positive">Positive</kds-button>
            <kds-button color="negative">Negative</kds-button>
            <kds-button color="warning">Warning</kds-button>
            <kds-button color="info">Info</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Outline Variants Connected</strong></p>
          <kds-button-group gap="none">
            <kds-button variant="outline">First</kds-button>
            <kds-button variant="outline">Second</kds-button>
            <kds-button variant="outline">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="secondary" variant="outline">First</kds-button>
            <kds-button priority="secondary" variant="outline">Second</kds-button>
            <kds-button priority="secondary" variant="outline">Third</kds-button>
          </kds-button-group>
        </div>
      </div>

      <h3>Different Sizes</h3>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <div>
          <p><strong>Extra Small</strong></p>
          <kds-button-group gap="none">
            <kds-button size="xs">First</kds-button>
            <kds-button size="xs">Second</kds-button>
            <kds-button size="xs">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="secondary" size="xs">First</kds-button>
            <kds-button priority="secondary" size="xs">Second</kds-button>
            <kds-button priority="secondary" size="xs">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Small</strong></p>
          <kds-button-group gap="none">
            <kds-button size="sm">First</kds-button>
            <kds-button size="sm">Second</kds-button>
            <kds-button size="sm">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="secondary" size="sm">First</kds-button>
            <kds-button priority="secondary" size="sm">Second</kds-button>
            <kds-button priority="secondary" size="sm">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Medium</strong></p>
          <kds-button-group gap="none">
            <kds-button size="md">First</kds-button>
            <kds-button size="md">Second</kds-button>
            <kds-button size="md">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="secondary" size="md">First</kds-button>
            <kds-button priority="secondary" size="md">Second</kds-button>
            <kds-button priority="secondary" size="md">Third</kds-button>
          </kds-button-group>
        </div>
        <div>
          <p><strong>Large</strong></p>
          <kds-button-group gap="none">
            <kds-button size="lg">First</kds-button>
            <kds-button size="lg">Second</kds-button>
            <kds-button size="lg">Third</kds-button>
          </kds-button-group>
          <br>
          <kds-button-group gap="none">
            <kds-button priority="secondary" size="lg">First</kds-button>
            <kds-button priority="secondary" size="lg">Second</kds-button>
            <kds-button priority="secondary" size="lg">Third</kds-button>
          </kds-button-group>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2 id="checkbox">Checkbox Component</h2>

      <h3>Basic Checkboxes</h3>
      <div class="checkbox-grid">
        <kds-checkbox name="basic" value="on">Accept terms and conditions</kds-checkbox>
        <kds-checkbox name="newsletter" value="yes" checked>Subscribe to newsletter</kds-checkbox>
        <kds-checkbox name="disabled" value="on" disabled>Disabled checkbox</kds-checkbox>
        <kds-checkbox name="disabled-checked" value="on" checked disabled>Disabled & checked</kds-checkbox>
      </div>

      <h3>Sizes</h3>
      <div class="checkbox-row">
        <kds-checkbox size="sm" name="small" value="sm">Small</kds-checkbox>
        <kds-checkbox size="md" name="medium" value="md" checked>Medium (default)</kds-checkbox>
        <kds-checkbox size="lg" name="large" value="lg">Large</kds-checkbox>
      </div>

      <h3>With Help Text</h3>
      <div class="checkbox-grid">
        <kds-checkbox
          required
          name="notifications"
          value="yes"
          help-text="We'll send you email notifications about important updates">
          Email notifications
        </kds-checkbox>
        <kds-checkbox
          name="marketing"
          value="yes"
          checked
          help-text="Receive promotional emails and special offers">
          Marketing emails
        </kds-checkbox>
      </div>

      <h3>Validation States</h3>
      <div class="checkbox-grid">
        <kds-checkbox
          name="required"
          value="yes"
          required
          invalid
          error-message="You must accept the terms to continue">
          Accept terms and conditions
        </kds-checkbox>
        <kds-checkbox
          name="age"
          value="yes"
          invalid
          error-message="You must be 18 or older">
          I am 18 years or older
        </kds-checkbox>
        <kds-checkbox
          name="age"
          value="yes"
          invalid
          help-text="Please confirm your age"
          error-message="You must be 18 or older">
          I am 18 years or older
        </kds-checkbox>
      </div>

      <h3>Indeterminate State</h3>
      <div class="checkbox-grid">
        <kds-checkbox
          id="parent-checkbox"
          name="parent"
          value="all">
          Select all
        </kds-checkbox>
        <div style="margin-left: 2rem;">
          <div class="checkbox-grid">
            <kds-checkbox class="child-checkbox" name="option1" value="1" checked>Option 1</kds-checkbox>
            <kds-checkbox class="child-checkbox" name="option2" value="2">Option 2</kds-checkbox>
            <kds-checkbox class="child-checkbox" name="option3" value="3">Option 3</kds-checkbox>
          </div>
        </div>
      </div>

      <h3>Checkbox Group</h3>
      <kds-input-group label="Preferences" help-text="Select all that apply">
        <kds-checkbox name="pref-email" value="email" checked>Email notifications</kds-checkbox>
        <kds-checkbox name="pref-sms" value="sms">SMS notifications</kds-checkbox>
        <kds-checkbox name="pref-push" value="push">Push notifications</kds-checkbox>
      </kds-input-group>

      <h3>Form Integration</h3>
      <form id="checkbox-form" style="max-width: 400px;">
        <kds-input-group label="Account Settings" required>
          <kds-checkbox
            name="terms"
            value="accepted"
            required>
            I accept the terms and conditions
          </kds-checkbox>
          <kds-checkbox
            name="privacy"
            value="accepted"
            required>
            I accept the privacy policy
          </kds-checkbox>
          <kds-checkbox
            name="newsletter"
            value="yes">
            Subscribe to newsletter (optional)
          </kds-checkbox>
        </kds-input-group>
        <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
          <kds-button type="submit">Submit Form</kds-button>
          <kds-button type="reset" priority="secondary">Reset</kds-button>
        </div>
      </form>
    </div>

    <div class="demo-section">
      <h2 id="radio">Radio Component</h2>

      <h3>Basic Radio Group</h3>
      <kds-input-group label="Size" direction="column" gap="sm" value="md">
        <kds-radio name="size" value="sm">Small</kds-radio>
        <kds-radio name="size" value="md">Medium</kds-radio>
        <kds-radio name="size" value="lg">Large</kds-radio>
      </kds-input-group>

      <h3>Horizontal Radio Group</h3>
      <kds-input-group label="Priority" direction="row" gap="md" value="normal">
        <kds-radio name="priority" value="low">Low</kds-radio>
        <kds-radio name="priority" value="normal">Normal</kds-radio>
        <kds-radio name="priority" value="high">High</kds-radio>
      </kds-input-group>

      <h3>Sizes</h3>
      <div class="checkbox-grid" style="gap: 1.5rem;">
        <kds-input-group label="Small" size="sm" direction="column" gap="xs" value="opt1">
          <kds-radio name="small-group" value="opt1">Option 1</kds-radio>
          <kds-radio name="small-group" value="opt2">Option 2</kds-radio>
        </kds-input-group>

        <kds-input-group label="Medium (default)" size="md" direction="column" gap="sm" value="opt1">
          <kds-radio name="medium-group" value="opt1">Option 1</kds-radio>
          <kds-radio name="medium-group" value="opt2">Option 2</kds-radio>
        </kds-input-group>

        <kds-input-group label="Large" size="lg" direction="column" gap="md" value="opt1">
          <kds-radio name="large-group" value="opt1">Option 1</kds-radio>
          <kds-radio name="large-group" value="opt2">Option 2</kds-radio>
        </kds-input-group>
      </div>

      <h3>With Help Text</h3>
      <kds-input-group
        label="Shipping Method"
        direction="column"
        gap="sm"
        help-text="Select your preferred shipping option"
        value="standard">
        <kds-radio name="shipping" value="standard" help-text="5-7 business days">Standard Shipping (Free)</kds-radio>
        <kds-radio name="shipping" value="express" help-text="2-3 business days">Express Shipping ($9.99)</kds-radio>
        <kds-radio name="shipping" value="overnight" help-text="Next business day">Overnight Shipping ($24.99)</kds-radio>
      </kds-input-group>

      <h3>Individual Radio with Help Text</h3>
      <kds-radio name="standalone" value="yes" help-text="This radio has its own help text">
        Standalone Radio with Help
      </kds-radio>

      <h3>Individual Radio with Error</h3>
      <kds-radio name="error-example" value="accept" invalid error-message="You must agree to continue">
        Accept Terms & Conditions
      </kds-radio>

      <h3>Validation States</h3>
      <kds-input-group
        label="Terms & Conditions"
        direction="column"
        gap="sm"
        required
        invalid
        error-message="You must select an option to continue">
        <kds-radio name="terms" value="agree">I agree to the terms</kds-radio>
        <kds-radio name="terms" value="disagree">I disagree</kds-radio>
      </kds-input-group>

      <h3>Disabled State</h3>
      <kds-input-group
        label="Disabled Radio Group"
        direction="column"
        gap="sm"
        disabled
        value="option2">
        <kds-radio name="disabled-group" value="option1">Option 1</kds-radio>
        <kds-radio name="disabled-group" value="option2">Option 2 (selected)</kds-radio>
        <kds-radio name="disabled-group" value="option3">Option 3</kds-radio>
      </kds-input-group>

      <h3>Form Integration</h3>
      <form id="radio-form" style="max-width: 500px;">
        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
          <kds-input-group
            label="Account Type"
            direction="column"
            gap="sm"
            required
            value="personal">
            <kds-radio name="account-type" value="personal">Personal Account</kds-radio>
            <kds-radio name="account-type" value="business">Business Account</kds-radio>
            <kds-radio name="account-type" value="enterprise">Enterprise Account</kds-radio>
          </kds-input-group>

          <kds-input-group
            label="Notification Frequency"
            direction="column"
            gap="sm"
            value="daily"
            help-text="How often would you like to receive email updates?">
            <kds-radio name="frequency" value="realtime">Real-time (as they happen)</kds-radio>
            <kds-radio name="frequency" value="daily">Daily digest</kds-radio>
            <kds-radio name="frequency" value="weekly">Weekly summary</kds-radio>
            <kds-radio name="frequency" value="never">Never</kds-radio>
          </kds-input-group>

          <div style="display: flex; gap: 0.5rem;">
            <kds-button type="submit">Submit Form</kds-button>
            <kds-button type="reset" priority="secondary">Reset</kds-button>
          </div>
        </div>
      </form>

      <h3>Compact Horizontal Layout</h3>
      <kds-input-group label="Rating" direction="row" gap="lg" value="3">
        <kds-radio name="rating" value="1">‚≠ê</kds-radio>
        <kds-radio name="rating" value="2">‚≠ê‚≠ê</kds-radio>
        <kds-radio name="rating" value="3">‚≠ê‚≠ê‚≠ê</kds-radio>
        <kds-radio name="rating" value="4">‚≠ê‚≠ê‚≠ê‚≠ê</kds-radio>
        <kds-radio name="rating" value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</kds-radio>
      </kds-input-group>
    </div>

    <script>
      // Test functions for dynamic label changes
      window.changeLabel1 = () => {
        const btn = document.getElementById('dynamic-test-1');
        btn.textContent = 'Submit Form';
        setTimeout(() => {
          const ariaLabel = btn.shadowRoot?.querySelector('button')?.getAttribute('aria-label');
          console.log('Changed label to "Submit Form" - aria-label:', ariaLabel);
        }, 100);
      };

      window.resetLabel1 = () => {
        const btn = document.getElementById('dynamic-test-1');
        btn.textContent = 'Save Changes';
        setTimeout(() => {
          const ariaLabel = btn.shadowRoot?.querySelector('button')?.getAttribute('aria-label');
          console.log('Reset label to "Save Changes" - aria-label:', ariaLabel);
        }, 100);
      };

      window.togglePending2 = () => {
        const btn = document.getElementById('dynamic-test-2');
        btn.pending = !btn.pending;
        setTimeout(() => {
          const ariaLabel = btn.shadowRoot?.querySelector('button')?.getAttribute('aria-label');
          console.log('Toggled pending to:', btn.pending, '- aria-label:', ariaLabel);
        }, 100);
      };

      window.addEventListener('load', () => {
        const button = document.getElementById('focus-button');
        button?.focus();

        const themeToggle = document.querySelector('.theme-toggle');
        if (!themeToggle) {
          return;
        }

        const prefersDark = typeof window.matchMedia === 'function'
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false;
        const initialMode = document.body.dataset.mode || (prefersDark ? 'dark' : 'light');

        const applyMode = (mode) => {
          const isDark = mode === 'dark';
          document.body.dataset.mode = mode;
          themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
          themeToggle.setAttribute(
            'aria-label',
            isDark ? 'Switch to light mode' : 'Switch to dark mode',
          );
          themeToggle.setAttribute('aria-pressed', String(isDark));
        };

        applyMode(initialMode);

        themeToggle.addEventListener('click', () => {
          const nextMode = document.body.dataset.mode === 'dark' ? 'light' : 'dark';
          applyMode(nextMode);
        });

        // Indeterminate checkbox demo
        const parentCheckbox = document.getElementById('parent-checkbox');
        const childCheckboxes = document.querySelectorAll('.child-checkbox');

        const updateParentState = () => {
          const checkedCount = Array.from(childCheckboxes).filter(cb => cb.checked).length;

          if (checkedCount === 0) {
            parentCheckbox.checked = false;
            parentCheckbox.indeterminate = false;
          } else if (checkedCount === childCheckboxes.length) {
            parentCheckbox.checked = true;
            parentCheckbox.indeterminate = false;
          } else {
            parentCheckbox.checked = false;
            parentCheckbox.indeterminate = true;
          }
        };

        parentCheckbox.addEventListener('change', (e) => {
          childCheckboxes.forEach(cb => {
            cb.checked = e.target.checked;
          });
        });

        childCheckboxes.forEach(cb => {
          cb.addEventListener('change', updateParentState);
        });

        updateParentState();

        // Checkbox form demo
        const checkboxForm = document.getElementById('checkbox-form');
        checkboxForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const formData = new FormData(checkboxForm);
          console.log('Checkbox form submitted:', Object.fromEntries(formData));
          alert('Checkbox form submitted! Check console for data.');
        });

        // Radio form demo
        const radioForm = document.getElementById('radio-form');
        radioForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const formData = new FormData(radioForm);
          console.log('Radio form submitted:', Object.fromEntries(formData));
          alert('Radio form submitted! Check console for data.');
        });
      });
    </script>
  </body>
</html>
