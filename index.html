<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lit Button Demo</title>
    <script type="module" src="/src/kds-button.component.ts"></script>
    <script type="module" src="/src/kds-progress-circle.component.ts"></script>
    <script type="module" src="/src/kds-text-input.component.ts"></script>
    <script type="module" src="/src/kds-input-group.component.ts"></script>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        padding: 2rem;
        max-width: 1024px;
        margin: 0 auto;
        background-color: var(--kds-bg-surface-base);
        color: var(--kds-fg-base);
      }
      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        padding: 0.4rem 0.75rem;
        border-radius: var(--kds-border-radius-pill, 999px);
        border: 1px solid var(--kds-border-neutral-muted-base, #ccc);
        background: var(--kds-bg-surface-overlay, #fff);
        color: inherit;
        font-size: 0.875rem;
        cursor: pointer;
        box-shadow: 0 2px 8px color(srgb 0 0 0 / 0.06);
        transition: background 0.2s ease;
      }
      .theme-toggle:hover {
        background: var(--kds-bg-surface-level-1, #f5f5f5);
      }
      .demo-section {
        margin-bottom: 2rem;
      }
      .button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
        justify-items: start;
      }

      .progress-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
        margin-top: 1rem;
      }

      .progress-grid > div {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }
    </style>
    <link rel="stylesheet" href="./tokens.css">
  </head>
  <body data-mode="light">
    <button class="theme-toggle" type="button" aria-label="Switch to dark mode" aria-pressed="false">
      üåô
    </button>
    <h1>Lit Button Component Demo</h1>

    <div class="demo-section">
      <h2>Default</h2>
      <div class="button-grid">
        <kds-button>Default Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Priorities</h2>
      <div class="button-grid">
        <kds-button priority="primary">Primary Button</kds-button>
        <kds-button priority="secondary">Secondary Button</kds-button>
        <kds-button priority="tertiary">Tertiary Button</kds-button>
        <kds-button priority="link">Link Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Colors & Variants</h2>
      <div class="button-grid">
        <kds-button color="neutral" variant="solid">Solid Button</kds-button>
        <kds-button color="neutral" variant="outline">Outline Button</kds-button>
        <kds-button color="neutral" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="negative" variant="solid">Solid Button</kds-button>
        <kds-button color="negative" variant="outline">Outline Button</kds-button>
        <kds-button color="negative" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="positive" variant="solid">Solid Button</kds-button>
        <kds-button color="positive" variant="outline">Outline Button</kds-button>
        <kds-button color="positive" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="info" variant="solid">Solid Button</kds-button>
        <kds-button color="info" variant="outline">Outline Button</kds-button>
        <kds-button color="info" variant="transparent">Transparent Button</kds-button>
      </div>
      <div class="button-grid">
        <kds-button color="warning" variant="solid">Solid Button</kds-button>
        <kds-button color="warning" variant="outline">Outline Button</kds-button>
        <kds-button color="warning" variant="transparent">Transparent Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Sizes</h2>
      <div class="button-grid">
        <kds-button size="xs">Extra Small Button</kds-button>
        <kds-button size="sm">Small Button</kds-button>
        <kds-button size="md">Medium Button</kds-button>
        <kds-button size="lg">Large Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>States</h2>
      <div class="button-grid">
        <kds-button disabled="disabled">Disabled Button</kds-button>
        <kds-button id="focus-button">Focus Button</kds-button>
        <kds-button type="submit">Submit Button</kds-button>
        <kds-button type="reset">Reset Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Anchor</h2>
      <div class="button-grid">
        <kds-button href="#">Anchor Button</kds-button>
      </div>
    </div>

    <div class="demo-section">
      <h2>Slots</h2>
      <div class="button-grid">
        <kds-button>
          <span slot="start">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewbox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
            </svg>
          </span>Slots Button<span slot="end">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewbox="0 0 16 16">
              <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
            </svg>
          </span>
        </kds-button>
      </div>

      <div class="demo-section">
        <h2>Full width</h2>
        <div class="button-grid">
          <kds-button href="#" style="width: 100%">Full Width Button</kds-button>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Progress Circle</h2>
      <div class="progress-grid">
        <div>
          <span>Default md</span>
          <kds-progress-circle></kds-progress-circle>
        </div>
        <div>
          <span>xs</span>
          <kds-progress-circle size="xs"></kds-progress-circle>
        </div>
        <div>
          <span>sm</span>
          <kds-progress-circle size="sm"></kds-progress-circle>
        </div>
        <div>
          <span>lg</span>
          <kds-progress-circle size="lg"></kds-progress-circle>
        </div>
        <div>
          <span>Progress 30%</span>
          <kds-progress-circle
            progress="30"
            label="Upload progress"
          ></kds-progress-circle>
        </div>
        <div>
          <span>Progress 100%</span>
          <kds-progress-circle
            progress="100"
            label="Sync complete"
          ></kds-progress-circle>
        </div>
        <div>
          <span>Progress xs</span>
          <kds-progress-circle size="xs" progress="40" label="XS progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress sm</span>
          <kds-progress-circle size="sm" progress="50" label="SM progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress md</span>
          <kds-progress-circle size="md" progress="60" label="MD progress"></kds-progress-circle>
        </div>
        <div>
          <span>Progress lg</span>
          <kds-progress-circle size="lg" progress="70" label="LG progress"></kds-progress-circle>
        </div>
        <div>
          <span>Could be very big, with label in center?</span>
          <kds-progress-circle size="xl" label="XL progress" style="--mod-progress-indicator-color: red;"></kds-progress-circle>
        </div>
        <div>
          <span>Could be very big, with label in center?</span>
          <kds-progress-circle size="xl" progress="85" label="XL progress" style="--mod-progress-indicator-color: red;"></kds-progress-circle>
        </div>
        <div>
          <span>Button with progress-circle</span>
          <kds-button><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
          <kds-button priority="primary"><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
          <kds-button priority="secondary"><kds-progress-circle label="XL progress" style="margin-inline: var(--kds-size-32)"></kds-progress-circle></kds-button>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Input Fields</h2>

      <h3>Basic Inputs</h3>
      <div class="button-grid">
        <kds-text-input label="Default Input" placeholder="Enter text..."></kds-text-input>
        <kds-text-input label="With Value" value="Sample text"></kds-text-input>
        <kds-text-input label="Required Field" placeholder="Required..." required></kds-text-input>
        <kds-text-input label="Clearable Input" clearable placeholder="Type and clear..."></kds-text-input>
      </div>

      <h3>Sizes</h3>
      <div class="button-grid">
        <kds-text-input size="sm" label="Small Input" placeholder="Small..."></kds-text-input>
        <kds-text-input size="md" label="Medium Input" placeholder="Medium..."></kds-text-input>
      </div>

      <h3>States</h3>
      <div class="button-grid">
        <kds-text-input label="Normal" placeholder="Normal state"></kds-text-input>
        <kds-text-input label="Invalid" placeholder="Invalid state" invalid error-message="This field is required"></kds-text-input>
        <kds-text-input label="Disabled" placeholder="Disabled state" disabled></kds-text-input>
        <kds-text-input label="Readonly" value="Read-only text" readonly></kds-text-input>
      </div>

      <h3>With Help Text</h3>
      <div class="button-grid">
        <kds-text-input label="Email Address" placeholder="you@example.com" type="email">
          <span slot="help-text">We'll never share your email with anyone else.</span>
        </kds-text-input>
        <kds-text-input label="Password" placeholder="Enter password" type="password" required>
          <span slot="help-text">Must be at least 8 characters long with a number and special character.</span>
        </kds-text-input>
        <kds-text-input label="Username" placeholder="Choose username" clearable>
          <span slot="help-text">This will be visible to other users.</span>
        </kds-text-input>
        <kds-text-input label="Invalid with Help" placeholder="Enter value" invalid error-message="This field is required">
          <span slot="help-text">This helper text is still visible even when there's an error.</span>
        </kds-text-input>
      </div>

      <h3>Input Types</h3>
      <div class="button-grid">
        <kds-text-input type="email" label="Email" placeholder="email@example.com"></kds-text-input>
        <kds-text-input type="password" label="Password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></kds-text-input>
        <kds-text-input type="number" label="Number" placeholder="123" min="0" max="100"></kds-text-input>
        <kds-text-input type="tel" label="Phone" placeholder="(555) 123-4567"></kds-text-input>
      </div>

  <h3>With Start/End</h3>
      <div class="button-grid">
        <kds-text-input label="With Start" placeholder="Search...">
          <span slot="start">üîç</span>
        </kds-text-input>
        <kds-text-input label="With End" placeholder="Amount">
          <span slot="end">USD</span>
        </kds-text-input>
        <kds-text-input label="With End" placeholder="Amount">
                  <kds-button slot="end" priority="tertiary">Button</kds-button>

        </kds-text-input>
        <kds-text-input label="Both" placeholder="Price">
          <span slot="start">$</span>
          <span slot="end">.00</span>
        </kds-text-input>
      </div>
    </div>

    <div class="demo-section">
      <h2>Input Groups</h2>

      <h3>Search with Button</h3>
      <div class="button-grid">
        <kds-input-group>
          <kds-text-input placeholder="Search..." label="Basic Search"></kds-text-input>
          <kds-button slot="end">üîç</kds-button>
        </kds-input-group>

        <kds-input-group size="sm">
          <kds-text-input placeholder="Small search..." label="Small Search"></kds-text-input>
          <kds-button slot="end">üîç</kds-button>
        </kds-input-group>
      </div>

      <h3>Dropdown with Input</h3>
      <div class="button-grid">
        <kds-input-group placement="start">
          <kds-button slot="start">Button ‚ñº</kds-button>
          <kds-text-input placeholder="With dropdown..." label="Dropdown Input"></kds-text-input>
        </kds-input-group>

        <kds-input-group placement="start" size="sm">
          <kds-button slot="start">Options ‚ñº</kds-button>
          <kds-text-input placeholder="Small dropdown..." label="Small Dropdown"></kds-text-input>
        </kds-input-group>
      </div>

      <h3>Complex Groups</h3>
      <div class="button-grid">
        <kds-input-group placement="both">
          <kds-button slot="start">Type ‚ñº</kds-button>
          <kds-text-input placeholder="Search with options..." label="Complex Search"></kds-text-input>
          <kds-button slot="end">Go</kds-button>
        </kds-input-group>
      </div>

      <h3>Invalid State Groups</h3>
      <div class="button-grid">
        <kds-input-group invalid>
          <kds-text-input placeholder="Invalid input..." label="Error Search" invalid error-message="Search term is required"></kds-text-input>
          <kds-button slot="end">üîç</kds-button>
        </kds-input-group>

        <kds-input-group placement="start" invalid>
          <kds-button slot="start">Category ‚ñº</kds-button>
          <kds-text-input placeholder="Invalid with dropdown..." label="Error Dropdown" invalid error-message="Please select a category"></kds-text-input>
        </kds-input-group>
      </div>

      <h3>Different Button Styles</h3>
      <div class="button-grid">
        <kds-input-group>
          <kds-text-input placeholder="Primary action..." label="Primary Button"></kds-text-input>
          <kds-button slot="end" priority="primary">Send</kds-button>
        </kds-input-group>

        <kds-input-group>
          <kds-text-input placeholder="Secondary action..." label="Secondary Button"></kds-text-input>
          <kds-button slot="end" priority="secondary">Save</kds-button>
        </kds-input-group>

        <kds-input-group>
          <kds-text-input placeholder="Danger action..." label="Negative Button"></kds-text-input>
          <kds-button slot="end" color="negative">Delete</kds-button>
        </kds-input-group>
      </div>
    </div>
    <script>
      window.addEventListener('load', () => {
        const button = document.getElementById('focus-button');
        button?.focus();

        const themeToggle = document.querySelector('.theme-toggle');
        if (!themeToggle) {
          return;
        }

        const prefersDark = typeof window.matchMedia === 'function'
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false;
        const initialMode = document.body.dataset.mode || (prefersDark ? 'dark' : 'light');

        const applyMode = (mode) => {
          const isDark = mode === 'dark';
          document.body.dataset.mode = mode;
          themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
          themeToggle.setAttribute(
            'aria-label',
            isDark ? 'Switch to light mode' : 'Switch to dark mode',
          );
          themeToggle.setAttribute('aria-pressed', String(isDark));
        };

        applyMode(initialMode);

        themeToggle.addEventListener('click', () => {
          const nextMode = document.body.dataset.mode === 'dark' ? 'light' : 'dark';
          applyMode(nextMode);
        });
      });
    </script>
  </body>
</html>
